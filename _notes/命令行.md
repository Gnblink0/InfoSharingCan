---
---

# Shell / bash

via：[课程概览与 shell · the missing semester of your cs education](https://missing-semester-cn.github.io/2020/course-shell/)

如今的计算机有着多种多样的交互接口让我们可以进行指令的的输入，从炫酷的图像用户界面（GUI），语音输入甚至是 AR/VR 都已经无处不在。 这些交互接口可以覆盖 80% 的使用场景，但是它们也从根本上限制了您的操作方式——你不能点击一个不存在的按钮或者是用语音输入一个还没有被录入的指令。 为了充分利用计算机的能力，我们不得不回到最根本的方式，使用==文字接口：Shell==

几乎所有您能够接触到的平台都支持某种形式的 shell，有些甚至还提供了多种 shell 供您选择。虽然它们之间有些细节上的差异，但是其核心功能都是一样的：==它允许你执行程序，输入并获取某种半结构化的输出==。

本节课我们会使用 Bourne Again SHell, 简称 “bash” 。 这是被最广泛使用的一种 shell，它的语法和其他的 shell 都是类似的。打开 shell _提示符_（您输入指令的地方），您首先需要打开 _终端_ 。

· mac 打开方法：`cmd` + `空格` 打开 spotlight，输入 `terminal`

---

对于大多数的类 Unix 系统，有一类用户是非常特殊的，那就是：根用户（root user）。 您应该已经注意到了，在上面的输出结果中，根用户几乎不受任何限制，他可以创建、读取、更新和删除系统中的任何文件。 通常在我们并不会以根用户的身份直接登录系统，因为这样可能会因为某些错误的操作而破坏系统。 取而代之的是我们会在需要的时候==使用 `sudo` 命令==。顾名思义，它的作用是让您可以以 su（super user 或 root 的简写）的身份执行一些操作。 当您遇到拒绝访问（permission denied）的错误时，通常是因为此时您必须是根用户才能操作。然而，请再次确认您是真的要执行此操作。

# Mac 命令行
via ： [【Mac懂一点命令行】#1：快速了解Mac下的命令行_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1xg4y1z7v6?vd_source=edb3b9d2edcf09617c0c07c0499efd40)

## 常用快捷键
Control + C 中断命令的执行
Control + A 返回行首
Control + E 返回行尾

## 目录和文件的常用操作

- 显示当前命令所处的位置 pwd

- 查看目录下的内容 Is （相当于直接在图形界面看到的文件界面）
	- ls -l 以列表形式查看
		- 开头 `-` 为文件
		- 开头 `d` 为文件夹
	- ls -la 显示隐藏

- 进入一个指定的目录 cd %%相当于鼠标双击进入文件夹%%
	- 可以只输一部分，按 `tab` 自动补全
	- cd. 本级 cd.. 上一级

- 新建一个目录 mkdir

- 重命名或移动文件/目录 mv 
	- mv （更改文件夹名）/（想改成的文件夹名）
	- mv （想移动的文件）/（想移动到的文件夹）

- 复制文件/目录 cp
	- 复制文件夹 cp -R
		- -R 代表递归的作用，一般文件夹操作需要加 -R，因为文件夹里还有其他内容

- 删除文件/目录 rm
	- rm -f 强制删除，不用提示
	- rm -fR 强制删除+递归删除所有文件%%这是一条狠命令，使用需谨慎。删库跑路 hh..%%

- 查看文件/目录的大小 du -sh
	- s 指总大小，h 指对阅读友好的信息（m、g 而不是 b、kb）

- 查看命令的帮助信息 man

快速进入用户主目录 cd~

## 进程管理
ps 查看系统进程信息
	瞬时状态 
	ps -A =ps -e=ps -ax 显示所有进程
	`ps- A | less` 以管道语法显示更少的信息，更便于查看

kill 结束掉一个进程（后跟PID）
	kill -9 pid

killall 结束掉一个进程（后跟名字），支持批量操作

pkill结束掉一个进程（后跟部分名），支持批量操作

top 查看系统进程信息
	动态状态
	还不如用activity monitor

## 其他

闭合不休眠  
sudo pmset -a disablesleep 1  

反之  
sudo pmset -a disablesleep 0
